
Прошивка для самодельной 3х-осевой кинематики, собранной из имеющегося в наличии хлама. Экспериментальный вариант. Никаких серьёзных подшипников (что конечно сказывается на точности). По оси Z(вертикаль) зубчатые передачи (лоток CD/DVD привода), по осям X,Y фрикционные передачи. Тестил пока только с карандашом, рисуя разные фигуры. Кстати, неплохое учебное пособие для изучения геометрии, тригонометрии, механики, ну и конечно программирования =).

Два режима: работа и калибровка. В режиме калибровки можно отдельно двигать каждую ось и задавать ноль. В рабочем режиме выполняется движение по массиву точек. Можно остановить работу, увести оси на ноль, поднять/опустить голову с карандашом.

В зависимости от настроек, что задаются константами в начале файла прошивки, можно активировать режим движения к каждой точке по нажатию кнопки. Также можно активировать коррекцию погрешности механики (внесение поправки в координаты). Есть ещё разные настройки, которые я постарался снабдить комментариями.

Компоненты:  
Мозги: Arduino UNO  
Шаговые движки: 28BYJ-48 5V с драйверами ULN2003. По одному движку на оси X, Y и два на ось Z (включены параллельно).  
Ещё 3 кнопки и два тумблера. Один двухпозиционный для переключения режимов работы, другой трёхпозиционный для переключения осей в режиме калибровки. Ну и несколько резисторов, провода и достаточное желание всё это собрать воедино. Про механику пока не говорю, там много всего, но в целом ничего сложного, примеров в сети много.

Заметил, что включенный Serial мешает рисовать окружности. В какой-то момент сбивается с координат и просто ведёт линию по одной из осей. Даже если нет ни одного принта. Предположил, что это из-за того, что драйвер оси X использует порт 13, который, как я заметил, связан с передачей данных по Serial. Поменял местами оси X с Z (Z не задействована при рисовании), но баг остался. При выключенном Serial всё нормально.
