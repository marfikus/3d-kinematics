
# 3d-kinematics

Прошивка для самодельной 3х-осевой кинематики, собранной из имеющегося в наличии хлама. Экспериментальный вариант. Никаких серьёзных подшипников (что конечно сказывается на точности). По оси Z(вертикаль) зубчатые передачи (лоток CD/DVD привода), по осям X,Y фрикционные передачи. Тестил пока только с карандашом, рисуя разные фигуры. Кстати, неплохое учебное пособие для изучения геометрии, тригонометрии, механики, ну и конечно программирования =).

Два режима: работа и калибровка. В режиме калибровки можно отдельно двигать каждую ось и задавать ноль. В рабочем режиме выполняется движение по массиву точек. Можно остановить работу, увести оси на ноль, поднять/опустить голову с карандашом.

В зависимости от настроек, что задаются константами в начале файла прошивки, можно активировать режим движения к каждой точке по нажатию кнопки. Также можно активировать коррекцию погрешности механики (внесение поправки в координаты). Есть ещё разные настройки, которые я постарался снабдить комментариями.

Компоненты:  
Мозги: Arduino UNO  
Шаговые движки: 28BYJ-48 на 5V с драйверами ULN2003. По одному движку на оси X, Y и два на ось Z (включены параллельно).  
Ещё 3 кнопки и два тумблера. Один двухпозиционный для переключения режимов работы, другой трёхпозиционный для переключения осей в режиме калибровки. Ну и несколько резисторов, провода и достаточное желание всё это собрать воедино.

Электрическая схема:
![Schematic_3d_kinematics_2021-10-03](/Schematic_3d_kinematics_2021-10-03.png "Schematic_3d_kinematics_2021-10-03")

Статья про то, как всё это создавалось:  
[ВКонтакте](https://vk.com/@marfikus_notes-simple-diy-3d-kinematics)  
[LiveJournal](https://marfikus.livejournal.com/19188.html)

[Краткий видео-обзор и демонстрация работы](https://youtu.be/FhWhIIZW5xA)

В каталоге [3d_models](https://github.com/marfikus/3d-kinematics/tree/master/3d_models) находятся 3d-модели деталей и сборок. Собственно, сначала смоделировал основные узлы (увлекательное занятие), потом начал делать. В реальности всё выглядит практически также.  
Вот модель общей сборки на данный момент (ещё не завершена):
![general_assembly](/3d_models/general_assembly.PNG "general_assembly")

Моделировал в Solid Works 2016. Для просмотра можно установить универсальный вьювер eDrawings. Вот [ссылка на его загрузку](https://www.edrawingsviewer.com/download-edrawings) или можно поискать по запросу "solidworks viewer".

Заметил, что включенный Serial мешает рисовать окружности с большим количеством точек. В какой-то момент сбивается с координат и просто ведёт линию по одной из осей. Даже если нет ни одного принта. Если в массиве, например, 60 точек, то отрабатывает нормально, а с 90 уже сбивается.  
По идее надо бы вообще не создавать массив, а отдавать конкретную точку прямо в процессе работы. Так будет гораздо экономичнее по памяти и этот баг наверное устранится. Возможно в будущем так и сделаю.  
При выключенном Serial всё нормально.
